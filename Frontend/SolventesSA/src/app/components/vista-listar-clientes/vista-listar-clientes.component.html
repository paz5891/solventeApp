<div *ngIf="!isEditing">
  <h1>Listado de clientes</h1>

  <mat-card class="example-card">
    <div fxLayout>
      <mat-form-field appearance="outline">
        <mat-label>Tipo de cliente</mat-label>
        <mat-select [(value)]="selected" (valueChange)="onChange()">
          <mat-option *ngFor="let typeClient of typeClients" [value]="typeClient.idType">
            {{typeClient.type}}
          </mat-option>
        </mat-select>
        <mat-icon matSuffix>account_circle</mat-icon>
      </mat-form-field>

      <div>
        <mat-form-field appearance="outline">
          <mat-label>Filtro General</mat-label>
          <mat-select matNativeControl [(value)]="filterSelecteds">
            <mat-option>--Filtro General--</mat-option>

            <div *ngFor="let column of columnasFiltro">
              <mat-option *ngIf="column of columnasFiltro " [value]="column.name_column">
                {{column.val_column}}
              </mat-option>
            </div>
          </mat-select>
          <mat-icon matSuffix>stars</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="40%">
          <mat-label>Buscador</mat-label>
          <input matInput type="text" (keyup)="applyFilter($event.target.value)" placeholder="Ej: Juan">
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>

      </div>
      </div>
  </mat-card>

  <div class="container-table mat-elevation-z8 center">
    <table mat-table [dataSource]="dataSource" matSort>



      <!-- avatar  Column -->
      <ng-container matColumnDef="avatar">
        <th mat-header-cell *matHeaderCellDef> Avatar </th>
        <td mat-cell *matCellDef="let element"> <img class="img-avatar" [src]="element.avatar" alt="Foto" /> </td>
      </ng-container>

      <!-- id persona Column -->
      <ng-container matColumnDef="id_person">
        <th mat-header-cell *matHeaderCellDef>Id persona</th>
        <td mat-cell *matCellDef="let element">{{element.id_person}}</td>
      </ng-container>

      <!-- id trust Column -->
      <ng-container matColumnDef="id_trust">
        <th mat-header-cell *matHeaderCellDef>Id Fiado</th>
        <td mat-cell *matCellDef="let element">{{element.id_trust}}</td>
      </ng-container>

      <!-- id beneficiary Column -->
      <ng-container matColumnDef="id_beneficiary">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Id Beneficiario</th>
        <td mat-cell *matCellDef="let element">{{element.id_beneficiary}}</td>
      </ng-container>

      <!-- nit Column -->
      <ng-container matColumnDef="nit">
        <th mat-header-cell *matHeaderCellDef>Nit</th>
        <td mat-cell *matCellDef="let element">{{element.nit}}</td>
      </ng-container>

      <!-- cui Column -->
      <ng-container matColumnDef="cui">
        <th mat-header-cell *matHeaderCellDef>CUI</th>
        <td mat-cell *matCellDef="let element">{{element.cui}}</td>
      </ng-container>

      <!-- first_name Column -->
      <ng-container matColumnDef="first_name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Primer Nombre</th>
        <td mat-cell *matCellDef="let element">{{element.first_name}}</td>
      </ng-container>

      <!-- second_name Column -->
      <ng-container matColumnDef="second_name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Segundo Nombre</th>
        <td mat-cell *matCellDef="let element">{{element.second_name}}</td>
      </ng-container>

      <!-- first_surname Column -->
      <ng-container matColumnDef="first_surname">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Primer Apellido</th>
        <td mat-cell *matCellDef="let element">{{element.first_surname}}</td>
      </ng-container>

      <!-- second_surname Column -->
      <ng-container matColumnDef="second_surname">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Segundo Apellido</th>
        <td mat-cell *matCellDef="let element">{{element.second_surname}}</td>
      </ng-container>

      <!-- date_of_birth Column -->
      <ng-container matColumnDef="date_of_birth">
        <th mat-header-cell *matHeaderCellDef>Fecha de nacimiento</th>
        <td mat-cell *matCellDef="let element">{{element.date_of_birth | date: 'dd-MM-y'}}</td>
      </ng-container>

      <!-- rol Column -->
      <ng-container matColumnDef="rol">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Rol</th>
        <td mat-cell *matCellDef="let element">{{element.rol}}</td>
      </ng-container>

      <!-- sexo Column -->
      <ng-container matColumnDef="sexo">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Sexo</th>
        <td mat-cell *matCellDef="let element">{{element.sexo}}</td>
      </ng-container>

      <!-- department Column -->
      <ng-container matColumnDef="department">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Departamento</th>
        <td mat-cell *matCellDef="let element">{{element.department}}</td>
      </ng-container>

      <!-- municipality Column -->
      <ng-container matColumnDef="municipality">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Municipio</th>
        <td mat-cell *matCellDef="let element">{{element.municipality}}</td>
      </ng-container>

      <!-- business_name Column -->
      <ng-container matColumnDef="business_name">
        <th mat-header-cell *matHeaderCellDef>Razon Social</th>
        <td mat-cell *matCellDef="let element">{{element.business_name}}</td>
      </ng-container>

      <!-- constitution_date Column -->
      <ng-container matColumnDef="constitution_date">
        <th mat-header-cell *matHeaderCellDef>Fecha de constitucion</th>
        <td mat-cell *matCellDef="let element">{{element.constitution_date | date: 'dd-MM-y'}}</td>
      </ng-container>

      <!-- commercial_patent_number Column -->
      <ng-container matColumnDef="commercial_patent_number">
        <th mat-header-cell *matHeaderCellDef>Patente de comercio</th>
        <td mat-cell *matCellDef="let element">{{element.commercial_patent_number}}</td>
      </ng-container>

      <!-- comercial_activity Column -->
      <ng-container matColumnDef="comercial_activity">
        <th mat-header-cell *matHeaderCellDef>Actividad Comercial</th>
        <td mat-cell *matCellDef="let element">{{element.comercial_activity}}</td>
      </ng-container>

      <!-- email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let element">{{element.email}}</td>
      </ng-container>

      <!-- disabled Column -->
      <ng-container matColumnDef="disabled">
        <th mat-header-cell *matHeaderCellDef>Deshabilitado</th>
        <td mat-cell *matCellDef="let element">

          <mat-slide-toggle color="primary" [checked]="element.disabled" (change)="onDelete(element)">
          </mat-slide-toggle>

        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>

<mat-paginator [pageSizeOptions]="[8, 16, 32]" showFirstLastButtons></mat-paginator>
