<h1>Listado de usuarios</h1>
<mat-card class="example-card">
  <mat-form-field appearance="outline" [style.width.px]=150>
    <mat-label>Filtro General</mat-label>
    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Ej: Juan">
    <mat-icon matSuffix>search</mat-icon>
  </mat-form-field>
  <mat-form-field appearance="outline" [style.width.px]=150>
    <mat-label>Filtro Rol</mat-label>
    <input matInput class="form-field" [formControl]="rolFilter" [matAutocomplete]="rolox" placeholder="Ej: Administrador">
    <mat-icon matSuffix>account_circle</mat-icon>
    <mat-autocomplete #rolox="matAutocomplete">
      <mat-option *ngFor="let rolOptions of rolOptions" [value]="rolOptions">
        {{rolOptions}}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
  <mat-form-field appearance="outline" [style.width.px]=150>
    <mat-label>Filtro Departamento</mat-label>
    <input matInput class="form-field" [formControl]="departamentoFilter"  placeholder="Ej: Jalapa">
    <mat-icon matSuffix>public</mat-icon>
  </mat-form-field>
  <mat-form-field appearance="outline" [style.width.px]=150>
    <mat-label>Filtro Genero</mat-label>
    <input matInput class="form-field" [formControl]="sexoFilter" [matAutocomplete]="sexox" placeholder="Ej: M">
    <mat-icon matSuffix>wc</mat-icon>
    <mat-autocomplete #sexox="matAutocomplete">
      <mat-option *ngFor="let sexoOptions of sexoOptions" [value]="sexoOptions">
        {{sexoOptions}}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
  <mat-form-field appearance="outline" [style.width.px]=150> 
    <mat-label>Filtro Email</mat-label>
    <input matInput class="form-field" [formControl]="emailFilter" [matAutocomplete]="emailx" placeholder="Ej: @gmail">
    <mat-icon matSuffix>email</mat-icon>
    <mat-autocomplete #emailx="matAutocomplete">
      <mat-option *ngFor="let emailOptions of emailOptions" [value]="emailOptions">
        {{emailOptions}}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
  <mat-form-field appearance="outline" [style.width.px]=150>
    <mat-label>Filtro Estado</mat-label>
    <input matInput class="form-field" [formControl]="disabledFilter" [matAutocomplete]="disablex" placeholder="Ej: True">
    <mat-icon matSuffix>toggle_on</mat-icon>
    <mat-autocomplete #disablex="matAutocomplete">
      <mat-option *ngFor="let disableOptions of disableOptions" [value]="disableOptions">
        {{disableOptions}}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
</mat-card>


<div class="container-table mat-elevation-z8">
  <table mat-table [dataSource]="dataSource" matSort>

    <!-- avatar Column -->
    <ng-container matColumnDef="avatar">
      <th mat-header-cell *matHeaderCellDef> Avatar </th>
      <td mat-cell *matCellDef="let user"> <img class="img-avatar" [src]="user.avatar" alt="Foto" /> </td>
    </ng-container>

    <!-- id_user  Column -->
    <ng-container matColumnDef="id_user">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> ID USER </th>
      <td mat-cell *matCellDef="let user"> {{user.id_user}} </td>
    </ng-container>

    <!-- rol Column -->
    <ng-container matColumnDef="rol">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Rol </th>
      <td mat-cell *matCellDef="let user"> {{user.rol}} </td>
    </ng-container>

    <!-- username Column -->
    <ng-container matColumnDef="username">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre de usuario </th>
      <td mat-cell *matCellDef="let user"> {{user.username}} </td>
    </ng-container>

    <!-- id_person Column -->
    <ng-container matColumnDef="id_person">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> ID Person </th>
      <td mat-cell *matCellDef="let user"> {{user.id_person}} </td>
    </ng-container>

    <!-- departament  Column -->
    <ng-container matColumnDef="department">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Departamento </th>
      <td mat-cell *matCellDef="let user"> {{user.department}} </td>
    </ng-container>

    <!-- municipality Column -->
    <ng-container matColumnDef="municipality">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Municipio </th>
      <td mat-cell *matCellDef="let user"> {{user.municipality}} </td>
    </ng-container>

    <!-- nit Column -->
    <ng-container matColumnDef="nit">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> NIT</th>
      <td mat-cell *matCellDef="let user"> {{user.nit}} </td>
    </ng-container>

    <!-- cui Column -->
    <ng-container matColumnDef="cui">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> CUI </th>
      <td mat-cell *matCellDef="let user"> {{user.cui}} </td>
    </ng-container>

    <!-- first_name Column -->
    <ng-container matColumnDef="first_name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Primer Nombre </th>
      <td mat-cell *matCellDef="let user"> {{user.first_name}} </td>
    </ng-container>

    <!-- second_name Column -->
    <ng-container matColumnDef="second_name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Segundo Nombre </th>
      <td mat-cell *matCellDef="let user"> {{user.second_name}} </td>
    </ng-container>

    <!--first_surname  Column -->
    <ng-container matColumnDef="first_surname">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Primer Apellido </th>
      <td mat-cell *matCellDef="let user"> {{user.first_surname}} </td>
    </ng-container>

    <!-- second_surname Column -->
    <ng-container matColumnDef="second_surname">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Segundo Apellido </th>
      <td mat-cell *matCellDef="let user"> {{user.second_surname}} </td>
    </ng-container>

    <!-- date_of_birth Column -->
    <ng-container matColumnDef="date_of_birth">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha de nacimiento </th>
      <td mat-cell *matCellDef="let user"> {{user.date_of_birth | date: 'dd-MM-y'}} </td>
    </ng-container>

    <!-- sexo Column -->
    <ng-container matColumnDef="sexo">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Sexo</th>
      <td mat-cell *matCellDef="let user">{{user.sexo}}</td>
    </ng-container>

    <!-- email Column -->
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> EMAIL </th>
      <td mat-cell *matCellDef="let user"> {{user.email}} </td>
    </ng-container>

    <!-- disabled Column -->
    <ng-container matColumnDef="disabled">
      <th mat-header-cell *matHeaderCellDef>Deshabilitado</th>
      <td mat-cell *matCellDef="let user">

        <mat-slide-toggle color="primary" [checked]="user.disabled"(change)="onDelete(user)"></mat-slide-toggle>

      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
<mat-paginator [pageSizeOptions]="[8, 16, 32]" showFirstLastButtons></mat-paginator>
